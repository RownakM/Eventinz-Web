{% load static %}
{% load lang_tran %}

<aside class="left-sidebar">
    <ul class="main-menu">
        <li>
            <a href="{%url 'vendor_home:user_profile' %}">
                <img src="{%static 'user_dashboard_v2/assets/images/dash/dashboard.png' %}" alt="icon">
                <span class="item-txt">{{"Dashboard"|transl:is_french}}</span></span>
            </a>
        </li>
        <li>
            <a href="{%url 'vendor_home:user_statistics' %}">
                <img src="{%static 'user_dashboard_v2/assets/images/dash/Statistics.png' %}" alt="icon">
                <span class="item-txt">{{"User Statistics"|transl:is_french}}</span>
            </a>
        </li>
        <li>
            <a href="{%url 'vendor_home:my_events_all' %}">
                <img src="{%static 'user_dashboard_v2/assets/images/dash/Events.png' %}" alt="icon">
                <span class="item-txt">{{"My Events"|transl:is_french}}</span>
            </a>
        </li>
        <li>
            <a href="{%url 'vendor_home:my_ev_support' %}">
                <img src="{%static 'user_dashboard_v2/assets/images/dash/Settings.png' %}" alt="icon">
                <span class="item-txt">{{"Support"|transl:is_french}}</span>
            </a>
        </li>
        <li>
            <a href="{%url 'vendor_home:my_chat_view' %}">
                <img src="{%static 'user_dashboard_v2/assets/images/dash/Settings.png' %}" alt="icon">
                <span class="item-txt">{{"My Chats"|transl:is_french}}</span>
            </a>
        </li>
        <li class="d-none">
            <button id="liveToastBtn">
                <img src="{%static 'vendor_dashboard_v2/assets/images/dash/dashboard.png' %}" alt="icon">
                <span class="item-txt">Test Button</span></span>
            </button>
        </li>
    </ul>
</aside>

<div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" style="background: #a00380;color: white;">
      
        <div class="d-flex">
            <div class="toast-body">
              {{"Whoaa ! You Just Recieved a New Message !"|transl:is_french}}
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
<script>
    const toastTrigger = document.getElementById('liveToastBtn')
    const toastLiveExample = document.getElementById('liveToast')
    if (toastTrigger) {
    toastTrigger.addEventListener('click', () => {
        const toast = new bootstrap.Toast(toastLiveExample)

        toast.show()
    })
    }

    $(document).ready(function(){
        setInterval(function () {
          $.ajax({url: "https://www.eventinz.com/chat/checkusermessages/check/{{user_id}}/", success: function(result){
            console.log(result);
            if (result == 'Yes'){
                $('#liveToastBtn').trigger('click');

            }
          }});
        },5000);
      });
</script>