{% load socialaccount %}
<!DOCTYPE html>
<html lang="en">

<head>
	<title>Sign Up | AdminKit Demo</title>
	{% include 'vendor_admin1/head.html' %}
	<script src="https://kit.fontawesome.com/ad8439d09f.js" crossorigin="anonymous"></script>

</head>

<body>
	<main class="d-flex w-100">
		<div class="container d-flex flex-column">
			<div class="row vh-100">
				<div class="col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100">
					<div class="d-table-cell align-middle">

						<div class="text-center mt-4" id="welcome_title">
							<h1 class="h2" id="form_title">Get started</h1>
							<p class="lead" id="form_sub_title">
								Start creating the best possible user experience for you customers.
							</p>
						</div>
						

						<div class="card" id="welcome_card">
							<div class="card-body">
								<div class="m-sm-4">
									{% comment %} <a href="{% provider_login_url 'google' %}">Login With Google</a> {% endcomment %}
									<style>
										.login-with-google-btn {
											transition: background-color .3s, box-shadow .3s;
											  
											padding: 12px 16px 12px 42px;
											border: none;
											border-radius: 3px;
											box-shadow: 0 -1px 0 rgba(0, 0, 0, .04), 0 1px 1px rgba(0, 0, 0, .25);
											
											color: #757575;
											font-size: 14px;
											font-weight: 500;
											font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif;
											
											background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTcuNiA5LjJsLS4xLTEuOEg5djMuNGg0LjhDMTMuNiAxMiAxMyAxMyAxMiAxMy42djIuMmgzYTguOCA4LjggMCAwIDAgMi42LTYuNnoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxwYXRoIGQ9Ik05IDE4YzIuNCAwIDQuNS0uOCA2LTIuMmwtMy0yLjJhNS40IDUuNCAwIDAgMS04LTIuOUgxVjEzYTkgOSAwIDAgMCA4IDV6IiBmaWxsPSIjMzRBODUzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNNCAxMC43YTUuNCA1LjQgMCAwIDEgMC0zLjRWNUgxYTkgOSAwIDAgMCAwIDhsMy0yLjN6IiBmaWxsPSIjRkJCQzA1IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNOSAzLjZjMS4zIDAgMi41LjQgMy40IDEuM0wxNSAyLjNBOSA5IDAgMCAwIDEgNWwzIDIuNGE1LjQgNS40IDAgMCAxIDUtMy43eiIgZmlsbD0iI0VBNDMzNSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIvPjwvZz48L3N2Zz4=);
											background-color: white;
											background-repeat: no-repeat;
											background-position: 12px 11px;
											
											&:hover {
											  box-shadow: 0 -1px 0 rgba(0, 0, 0, .04), 0 2px 4px rgba(0, 0, 0, .25);
											}
											
											&:active {
											  background-color: #eeeeee;
											}
											
											&:focus {
											  outline: none;
											  box-shadow: 
												0 -1px 0 rgba(0, 0, 0, .04),
												0 2px 4px rgba(0, 0, 0, .25),
												0 0 0 3px #c8dafc;
											}
											
											&:disabled {
											  filter: grayscale(100%);
											  background-color: #ebebeb;
											  box-shadow: 0 -1px 0 rgba(0, 0, 0, .04), 0 1px 1px rgba(0, 0, 0, .25);
											  cursor: not-allowed;
											}
										  }
									</style>
									<a type="button" name="btnOpenPopup" target="_blank" class="login-with-google-btn" href="{% provider_login_url 'google' %}">
										Sign Up with Google
									</a>
									<a href="{% provider_login_url "facebook" method="oauth2" %}">Facebook OAuth2</a>
									<form action="{%url 'vendor_auth' %}" method='POST' id="signup_form">
										{% for i in messages %}
										<div class="alert alert-danger" role="alert">
											{{i}}
										  </div>
										{% endfor %}
										{% csrf_token %}
										<div class="mb-3 first_section">
											<label class="form-label">First Name</label>
											<input class="form-control form-control-lg s1check" id="fname" type="text" name="fname" placeholder="Enter your First name" required />
										</div>
										<div class="mb-3 first_section">
											<label class="form-label">Last Name</label>
											<input class="form-control form-control-lg s1check" id="lname" type="text" name="lname" placeholder="Enter your Last name" required />
										</div>
										<div class="mb-3 first_section">
											<label class="form-label">Company Name</label>
											<input class="form-control form-control-lg s1check" type="text" id="company" name="company" placeholder="Enter your company name" required />
										</div>
										<div class="mb-3 first_section">
											<label class="form-label">Company Address</label>
											<textarea class="form-control form-control-lg s1check" type="text" id="company_address" name="company_address" placeholder="Enter your company Address" required></textarea>
										</div>
										<div class="mb-3 first_section">
											<label class="form-label">Country</label>
											
											<select name="country" id="country" class="form-control form-control-lg s1check">
												<option value="">--Select Country--</option>
												{% for i in countries %}
												<option value="{{i.id}}">{{i.name}}</option>
												{% endfor %}
											</select>
											
											
										</div>
										<div class="mb-3 first_section">
											<label class="form-label s1check" id="statelabel">State / Province	</label>

										<select name="state1" id="state" class="form-control form-control-lg">
											<option value="">--Select State--</option>
											
										</select>
										<input type="hidden" name="state" id="statevalue" value="">
										
										</div>
										
										<div class="mb-3 second_section">
											<label class="form-label">Website URL</label>
											<input class="form-control form-control-lg" type="text" name="Company_url" placeholder="Enter your company URL" />
										</div>
										<div class="mb-3 second_section">
											<label class="form-label">Mobile</label>

											<div class="input-group mb-3 second_section">
												<select class="form-select" id="inputGroupSelect01" name="phone_code">
													<option selected>--Select Country--</option>
													<option value="Benin">République du Bénin (+229)</option>
													<option value="Ivory Coast">Côte d'Ivoire (+225)													</option>
													{% comment %} <option value="3">Three</option> {% endcomment %}
												  </select>
												<input type="text" class="form-control" name="phone" aria-label="Text input with dropdown button">
											  </div>
										</div>
										<div class="mb-3 second_section">
											<label class="form-label">Alternative Mobile</label>

											<div class="input-group mb-3 second_section">
												<select class="form-select" id="inputGroupSelect021" name="al_phone_code">
													<option selected>--Select Country--</option>
													<option value="Benin">République du Bénin (+229)</option>
													<option value="Ivory Coast">Côte d'Ivoire (+225)													</option>
													{% comment %} <option value="3">Three</option> {% endcomment %}
												  </select>
												<input type="text" class="form-control" name="al_phone" aria-label="Text input with dropdown button">
											  </div>
										</div>
										<div class="mb-3 third_section">
											<div class="mb-3 third_section">
												<label class="form-label">Email</label>
												<input class="form-control form-control-lg" id='email' type="email" name="email" placeholder="Enter your email" required />
												<div class="form-text" id="email_message"></div>
											</div>
											<div class="mb-3 third_section">
												<label class="form-label">Password</label>
												<input class="form-control form-control-lg" type="password" name="password" placeholder="Enter your Password" required />
											</div>
											<div class="mb-3 third_section">
												<label class="form-label">Confirm Password</label>
												<input class="form-control form-control-lg" type="password" name="confirm_password" placeholder="Re-Enter Password again" required />
											</div>
											<div class="mb-3 third_section">
												<div class="form-check">
													<input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
													<label class="form-check-label" for="flexCheckDefault">
													  I Agree to Eventinz's <a href="" target="_blank">Terms and Conditions</a>
													</label>
												  </div>
											</div>
										</div>
										<div class="text-left mt-3">
											{% comment %} <button type= class="btn btn-lg btn-primary">Sign up</a> {% endcomment %}
											{% comment %} <button type="button" class="btn btn-lg btn-primary">next</button> {% endcomment %}
											<button type="button" class="btn btn-lg btn-primary" id="next1">Next</button>
											<button type="button" class="btn btn-lg btn-primary" id="next2">Next</button>
											<button type="submit" class="btn btn-lg btn-primary" id="next3">Proceed</button>
											<button type="button" class="btn btn-lg btn-primary" id="back1">Back</button>
											<button type="button" class="btn btn-lg btn-primary" id="back2">Back</button>
											{% comment %} <button type="button" class="btn btn-lg btn-primary" id="back3">Back</button> {% endcomment %}


											


										</div>
										{% comment %} <div class="mb-3">
											<label class="form-label">Password</label>
											<input class="form-control form-control-lg" type="password" name="password" placeholder="Enter password" required />
										</div> {% endcomment %}
										
									</form>
								</div>
							</div>
						</div>
					
					</div>
				</div>
			</div>
		</div>
	</main>

	{% include 'vendor_admin1/js.html' %}
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<script>
		$('.second_section').hide();
		$('.third_section').hide();
		$('#next2').hide();
		$('#next3').hide();
		$('#back1').hide();
		$('#back2').hide();
		$('#back3').hide();
		$('#form_title').html('Get Started with your Personal Details!');
		$('#form_sub_title').html('Step 1/3');




		$( "#next1" ).click(function() {
			//$(this).html('<div class="spinner-border text-light spinner-border-sm" role="status"><span class="visually-hidden">Validating...</span></div>');
			$('.first_section').hide();
			
			$('.second_section').show();
			$(this).hide();
			$('#next2').show();
			$('#back1').show();
			$('#form_title').html('Time for some contacts and connections!!');
		$('#form_sub_title').html('Step 2/3');


		  });
		$( "#back1" ).click(function() {
			  	$('.second_section').hide();
				$('.first_section').show();
				$(this).hide();
				$('#next2').hide();
				$('#next1').show();
				$('#back1').hide();
				$('#form_title').html('Get Started with your Personal Details!');
		$('#form_sub_title').html('Step 1/3');


		  });
		  $( "#back2" ).click(function() {
			$('.third_section').hide();
		  $('.second_section').show();
		  $(this).hide();
		  $('#next3').hide();
		  $('#next2').show();
		  $('#back2').hide();
		  $('#back1').show();
		  $('#form_title').html('Time for some contacts and connections!!');
		$('#form_sub_title').html('Step 2/3');


	});


		  $( "#next2" ).click(function() {
			$('.second_section').hide();
			
			$('.third_section').show();
			$(this).hide();
			$('#back1').hide();
			$('#next3').show();
			$('#back2').show();
			$('#form_title').html('You are Nearly Done !!');
		$('#form_sub_title').html('Step 3/3');


		  });

		  $('#next_3').click(function(){
			document.getElementById("signup_form").submit();

		  })
	</script>
	<script>
		
		  $( document ).ready(function() {
			  $('#state').hide();
			  $('#statelabel').hide();

			$('#country').on('change', function() {
				$('#state').html('<option value="">--Select State--');
				var id=this.value;
				$.ajax({
					type: "GET",
					url: '../get-state/',
					data: "id="+id,
					success: function(data){
						
						//console.log(data)
						for (var i = 0; i < data.length; i++){
							//console.log(data[i].fields)
							var state_id=data[i].fields.state_code;
							var state_name=data[i].fields.name;
							var option_tag=document.getElementById('state')
							var row=`<option value="${state_id}">${state_name}</option>`;
							option_tag.innerHTML+=row
							//var row = `<tr>
							//				<td>${cno}</td>
							//				<td>${data[i].recharge_short_desc}</td>
							//				<td>${data[i].recharge_validity}</td>
							//  <td>${data[i].recharge_long_desc}</td>
							//  <td><button onclick="pay_now(${data[i].recharge_amount})">${data[i].recharge_amount}.00</button></td>
							//		  </tr>`
							//table.innerHTML += row
				
				
						}
					    $('#statelabel').show();

						$('#state').show();
					},
					
				  });
			  });



			  $('#email').on('change', function() {
				$('#state').html('<option value="">--Select State--');
				var id=this.value;
				$.ajax({
					type: "GET",
					url: '../get-email/',
					data: "email="+id,
					success: function(data){
						console.log(data)
						if (data.length <=0){
							$('#email_message').html('<font color="green"><i class="fa fa-check fa-fw"></i><b>Email ID Available</b></font>');
							$('#next3').prop('disabled',false);

						}
						else if(data.length>0){
							$('#email_message').html('<font color="red"><i class="fa fa-times fa-fw"></i><b>Email ID Exists</b></font>');
							$('#next3').prop('disabled',true);

						}
						//console.log(data)
						//for (var i = 0; i < data.length; i++){
						//	//console.log(data[i].fields)
						//	var state_id=data[i].fields.state_code;
						//	var state_name=data[i].fields.name;
						//	var option_tag=document.getElementById('state')
						//	var row=`<option value="${state_id}">${state_name}</option>`;
						//	option_tag.innerHTML+=row
							//var row = `<tr>
							//				<td>${cno}</td>
							//				<td>${data[i].recharge_short_desc}</td>
							//				<td>${data[i].recharge_validity}</td>
							//  <td>${data[i].recharge_long_desc}</td>
							//  <td><button onclick="pay_now(${data[i].recharge_amount})">${data[i].recharge_amount}.00</button></td>
							//		  </tr>`
							//table.innerHTML += row
				
				
						//}
					    //$('#statelabel').show();

						//$('#state').show();
					},
					
				  });
			  });
		});
	</script>
	<script type="text/javascript">  
		function OpenNewWindow()  
		{  
		   window.open("https://eventinz.com/accounts/google/login/","","toolbar=no,status=no,menubar=no,location=center,scrollbars=no,resizable=no,height=500,width=657");  
		}  
	 </script> 
	 <script>
		$( document ).ready(function() {
			$('#next1').prop('disabled',true);
			$('.s1check').on('change', function() {
				var fnameinput=$('#fname').val()
				var lnameinput=$('#lname').val()
				var companyinput=$('#company').val()
				var company_address_input=$('#company_address').val()
				var countryinput=$('#country').val()
				var stateinput=$('#state option:selected').val()
				stateinput=$('#state option:selected').val()

				
				if (fnameinput!='' && lnameinput!='' && companyinput!='' && company_address_input!='' && countryinput!=''){
					$('#next1').prop('disabled',false);

				}
				//console.log(stateinput);
				//console.log(countryinput);
				//console.log(fnameinput)
			})
		});
	 </script>
	 <script>
		$('#state').on('change', function() {
		var e = document.getElementById("state");
		var strUser = e.value;
		document.getElementById("statevalue").value = strUser;
		//console.log(strUser);
		console.log(document.getElementById('statevalue').value);
		})
	</script>
</body>

</html>